{% extends 'base.html' %}

{% block content %}
<h1>All About CrazyNumbers</h1>
<h4>Welcome to the dashboard, and check out all the information about the numbers in the analysis below.</h4>
{{ date_time }}

<svg class="chart1"></svg>

<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script>
	var date_time = {{ date_time }}
	var number = {{ number }}

	var width = 400,
	barHeight = 20;

	var x = d3.scale.linear()
		.domain([0, d2.max(number)])
		.range([0, width]);

	// select the chart container using class selector
	var chart = d3.select(".chart1")
		.attr("width", width)
		.attr("height", barHeight * number.length);

	// initiate data join.
	var bar =  chart.selectAll(".chart1");
		.data(number)
		.enter().append(".chart1")
		.attr("transform", function(d, i) { return "translate(0," + barHeight + ")"; });

	bar.append("rect")
		.attr("width", x)
		.attr("height", barHeight - 1);

	bar.append("text")
		.attr("x", function(d) { return x(d) - 3; })
		.attr("y", barHeight/2)
		.attr("dy", ".35em")
		.text(function(d) { return d; });

</script>
{% endblock %}

